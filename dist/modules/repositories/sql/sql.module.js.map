{"version":3,"sources":["../../../../src/modules/repositories/sql/sql.module.ts"],"sourcesContent":["// NestJS\r\nimport { Logger, Module } from '@nestjs/common';\r\nimport { ConfigService } from '@nestjs/config';\r\n\r\n// TypeORM\r\nimport { TypeOrmModule, TypeOrmModuleOptions } from '@nestjs/typeorm';\r\n\r\n// SQL Modules\r\nimport { CompaniesModule } from '@repositories/sql/companies/companies.module';\r\nimport { GamesFeaturesModule } from '@repositories/sql/games-features/games-features.module';\r\nimport { GamesLanguagesModule } from '@repositories/sql/games-languages/games-languages.module';\r\nimport { GamesPricingModule } from '@repositories/sql/games-pricing/games-pricing.module';\r\nimport { GamesTagsModule } from '@repositories/sql/games-tags/games-tags.module';\r\nimport { GamesModule } from '@repositories/sql/games/games.module';\r\nimport { ReviewsModule } from '@repositories/sql/reviews/reviews.module';\r\nimport { UsersModule } from '@repositories/sql/users/users.module';\r\nimport { DatabaseModule } from '@services/database/database.module';\r\n\r\n// DB Config\r\nimport { DatabaseService } from '@services/database/database.service';\r\n\r\n@Module({\r\n  imports: [\r\n    DatabaseModule,\r\n    TypeOrmModule.forRootAsync({\r\n      inject: [DatabaseService],\r\n      extraProviders: [DatabaseService, Logger, ConfigService],\r\n      name: 'sql',\r\n      useFactory: async (databaseService: DatabaseService): Promise<TypeOrmModuleOptions> => {\r\n        return databaseService.getPostgresTypeOrmConfig();\r\n      },\r\n    }),\r\n    CompaniesModule,\r\n    GamesFeaturesModule,\r\n    GamesLanguagesModule,\r\n    GamesPricingModule,\r\n    GamesTagsModule,\r\n    ReviewsModule,\r\n    GamesModule,\r\n    UsersModule,\r\n  ],\r\n  exports: [TypeOrmModule],\r\n})\r\nexport class SqlModule {}\r\n"],"names":["SqlModule","imports","DatabaseModule","TypeOrmModule","forRootAsync","inject","DatabaseService","extraProviders","Logger","ConfigService","name","useFactory","databaseService","getPostgresTypeOrmConfig","CompaniesModule","GamesFeaturesModule","GamesLanguagesModule","GamesPricingModule","GamesTagsModule","ReviewsModule","GamesModule","UsersModule","exports"],"mappings":"AAAA,SAAS;;;;;+BA2CIA;;;eAAAA;;;wBA1CkB;wBACD;yBAGsB;iCAGpB;qCACI;sCACC;oCACF;iCACH;6BACJ;+BACE;6BACF;gCACG;iCAGC;;;;;;;AAwBzB,IAAA,AAAMA,YAAN,MAAMA;AAAW;;;QArBtBC,SAAS;YACPC,8BAAc;YACdC,sBAAa,CAACC,YAAY,CAAC;gBACzBC,QAAQ;oBAACC,gCAAe;iBAAC;gBACzBC,gBAAgB;oBAACD,gCAAe;oBAAEE,cAAM;oBAAEC,qBAAa;iBAAC;gBACxDC,MAAM;gBACNC,YAAY,OAAOC;oBACjB,OAAOA,gBAAgBC,wBAAwB;gBACjD;YACF;YACAC,gCAAe;YACfC,wCAAmB;YACnBC,0CAAoB;YACpBC,sCAAkB;YAClBC,gCAAe;YACfC,4BAAa;YACbC,wBAAW;YACXC,wBAAW;SACZ;QACDC,SAAS;YAACnB,sBAAa;SAAC"}