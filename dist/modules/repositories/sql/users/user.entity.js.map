{"version":3,"sources":["../../../../../src/modules/repositories/sql/users/user.entity.ts"],"sourcesContent":["// NestJS\r\nimport { BaseEntity, Column, Entity, JoinTable, ManyToMany, OneToMany, PrimaryGeneratedColumn } from 'typeorm';\r\n\r\n// Entities\r\nimport { GameTag } from '@repositories/sql/games-tags/game-tag.entity';\r\nimport { Review } from '@repositories/sql/reviews/review.entity';\r\n\r\n// Types\r\nimport type { GameTag as GameTagType } from '@repositories/sql/games-tags/game-tag.entity';\r\nimport type { Review as ReviewType } from '@repositories/sql/reviews/review.entity';\r\n\r\n@Entity({ name: 'users' })\r\nexport class User extends BaseEntity {\r\n  @PrimaryGeneratedColumn('uuid', { name: 'user_id' })\r\n  id: string;\r\n\r\n  @Column({ unique: true })\r\n  email: string;\r\n\r\n  @Column({ unique: true })\r\n  username: string;\r\n\r\n  @Column()\r\n  password: string;\r\n\r\n  @Column()\r\n  country: string;\r\n\r\n  @Column({ nullable: true })\r\n  phoneNumber: string;\r\n\r\n  @Column({ nullable: true })\r\n  profilePicture: string;\r\n\r\n  @ManyToMany(() => GameTag, (tag: GameTagType) => tag.users)\r\n  @JoinTable({ name: 'users_tags' })\r\n  tags: GameTagType[];\r\n\r\n  @Column({ nullable: true })\r\n  verificationToken: string;\r\n\r\n  @Column({ default: false })\r\n  isVerified: boolean;\r\n\r\n  @Column({ nullable: true })\r\n  phoneVerificationCode: string;\r\n\r\n  @Column({ nullable: true })\r\n  isPhoneVerified: boolean;\r\n\r\n  @Column({ nullable: true })\r\n  passwordResetToken: string;\r\n\r\n  @Column({ default: false })\r\n  isAdmin: boolean;\r\n\r\n  @Column({ default: false })\r\n  isActive: boolean;\r\n\r\n  @Column({ default: false })\r\n  isLoggedIn: boolean;\r\n\r\n  @Column({ default: new Date() })\r\n  createdAt: Date;\r\n\r\n  @Column({ type: 'jsonb', default: [] })\r\n  wishlist: WishlistItem[];\r\n\r\n  @Column({ type: 'jsonb', default: [] })\r\n  cart: CartItem[];\r\n\r\n  @Column({ type: 'jsonb', default: [] })\r\n  library: LibraryItem[];\r\n\r\n  @OneToMany(() => Review, (review: ReviewType) => review.user)\r\n  reviews: ReviewType[];\r\n}\r\n\r\nexport class BaseItem {\r\n  id: number;\r\n  addedOn: Date;\r\n\r\n  constructor(id: number) {\r\n    this.id = id;\r\n    this.addedOn = new Date();\r\n  }\r\n}\r\n\r\nexport class WishlistItem extends BaseItem {}\r\n\r\nexport class CartItem extends BaseItem {}\r\n\r\nexport class LibraryItem extends BaseItem {}\r\n"],"names":["BaseItem","CartItem","LibraryItem","User","WishlistItem","BaseEntity","name","unique","nullable","GameTag","tag","users","default","Date","type","Review","review","user","constructor","id","addedOn"],"mappings":"AAAA,SAAS;;;;;;;;;;;;IA8EIA,QAAQ;eAARA;;IAYAC,QAAQ;eAARA;;IAEAC,WAAW;eAAXA;;IAhFAC,IAAI;eAAJA;;IA4EAC,YAAY;eAAZA;;;yBAvFwF;+BAG7E;8BACD;;;;;;;;;;AAOhB,IAAA,AAAMD,OAAN,MAAMA,aAAaE,mBAAU;AAgEpC;;;QA/DoCC,MAAM;;;;;;QAG9BC,QAAQ;;;;;;QAGRA,QAAQ;;;;;;;;;;;;;;QASRC,UAAU;;;;;;QAGVA,UAAU;;;;;iCAGFC,sBAAO,GAAGC,MAAqBA,IAAIC,KAAK;;QAC7CL,MAAM;;;;;;QAGTE,UAAU;;;;;;QAGVI,SAAS;;;;;;QAGTJ,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVA,UAAU;;;;;;QAGVI,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS;;;;;;QAGTA,SAAS,IAAIC;;;;;;QAGbC,MAAM;QAASF,SAAS,EAAE;;;;;;QAG1BE,MAAM;QAASF,SAAS,EAAE;;;;;;QAG1BE,MAAM;QAASF,SAAS,EAAE;;;;;gCAGnBG,oBAAM,GAAGC,SAAuBA,OAAOC,IAAI;;;;;QA/DpDX,MAAM;;;AAmET,IAAA,AAAMN,WAAN,MAAMA;IAIXkB,YAAYC,EAAU,CAAE;QACtB,IAAI,CAACA,EAAE,GAAGA;QACV,IAAI,CAACC,OAAO,GAAG,IAAIP;IACrB;AACF;AAEO,IAAA,AAAMT,eAAN,MAAMA,qBAAqBJ;AAAU;AAErC,IAAA,AAAMC,WAAN,MAAMA,iBAAiBD;AAAU;AAEjC,IAAA,AAAME,cAAN,MAAMA,oBAAoBF;AAAU"}