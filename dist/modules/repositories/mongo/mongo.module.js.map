{"version":3,"sources":["../../../../src/modules/repositories/mongo/mongo.module.ts"],"sourcesContent":["// NestJS\r\nimport { Logger, Module } from '@nestjs/common';\r\nimport { ConfigService } from '@nestjs/config';\r\n\r\n// TypeORM\r\nimport { TypeOrmModule, TypeOrmModuleOptions } from '@nestjs/typeorm';\r\n\r\n// MongoDB Modules\r\nimport { DropboxTokensModule } from '@repositories/mongo/dropbox-tokens/token-blacklist.module';\r\nimport { TokenBlacklistModule } from '@repositories/mongo/token-blacklist/token-blacklist.module';\r\n\r\n// DB Config\r\nimport { DatabaseService } from '@services/database/database.service';\r\n\r\n@Module({\r\n  imports: [\r\n    TypeOrmModule.forRootAsync({\r\n      inject: [DatabaseService],\r\n      extraProviders: [DatabaseService, Logger, ConfigService],\r\n      name: 'mongo',\r\n      useFactory: async (databaseService: DatabaseService): Promise<TypeOrmModuleOptions> => {\r\n        return databaseService.getMongoTypeOrmConfig();\r\n      },\r\n    }),\r\n    TokenBlacklistModule,\r\n    DropboxTokensModule,\r\n  ],\r\n})\r\nexport class MongoModule {}"],"names":["MongoModule","imports","TypeOrmModule","forRootAsync","inject","DatabaseService","extraProviders","Logger","ConfigService","name","useFactory","databaseService","getMongoTypeOrmConfig","TokenBlacklistModule","DropboxTokensModule"],"mappings":"AAAA,SAAS;;;;;+BA4BIA;;;eAAAA;;;wBA3BkB;wBACD;yBAGsB;sCAGhB;uCACC;iCAGL;;;;;;;AAgBzB,IAAA,AAAMA,cAAN,MAAMA;AAAa;;;QAbxBC,SAAS;YACPC,sBAAa,CAACC,YAAY,CAAC;gBACzBC,QAAQ;oBAACC,gCAAe;iBAAC;gBACzBC,gBAAgB;oBAACD,gCAAe;oBAAEE,cAAM;oBAAEC,qBAAa;iBAAC;gBACxDC,MAAM;gBACNC,YAAY,OAAOC;oBACjB,OAAOA,gBAAgBC,qBAAqB;gBAC9C;YACF;YACAC,2CAAoB;YACpBC,yCAAmB;SACpB"}