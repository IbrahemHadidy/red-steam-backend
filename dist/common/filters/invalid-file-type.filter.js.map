{"version":3,"sources":["../../../src/common/filters/invalid-file-type.filter.ts"],"sourcesContent":["// NestJS\r\nimport { Catch, HttpStatus } from '@nestjs/common';\r\n\r\n// Exceptions\r\nimport { InvalidFileException } from '@exceptions/invalid-file.exception';\r\n\r\n// Types\r\nimport type { ArgumentsHost, ExceptionFilter } from '@nestjs/common';\r\nimport type { FastifyReply } from 'fastify';\r\n\r\n@Catch(InvalidFileException)\r\nexport class InvalidFileTypeFilter implements ExceptionFilter {\r\n  public catch(exception: InvalidFileException, host: ArgumentsHost) {\r\n    const ctx = host.switchToHttp();\r\n    const response = ctx.getResponse<FastifyReply>();\r\n\r\n    response.status(HttpStatus.BAD_REQUEST).send({\r\n      statusCode: HttpStatus.BAD_REQUEST,\r\n      message: exception.message,\r\n    });\r\n  }\r\n}\r\n"],"names":["InvalidFileTypeFilter","catch","exception","host","ctx","switchToHttp","response","getResponse","status","HttpStatus","BAD_REQUEST","send","statusCode","message"],"mappings":"AAAA,SAAS;;;;;+BAWIA;;;eAAAA;;;wBAVqB;sCAGG;;;;;;;AAO9B,IAAA,AAAMA,wBAAN,MAAMA;IACJC,MAAMC,SAA+B,EAAEC,IAAmB,EAAE;QACjE,MAAMC,MAAMD,KAAKE,YAAY;QAC7B,MAAMC,WAAWF,IAAIG,WAAW;QAEhCD,SAASE,MAAM,CAACC,kBAAU,CAACC,WAAW,EAAEC,IAAI,CAAC;YAC3CC,YAAYH,kBAAU,CAACC,WAAW;YAClCG,SAASX,UAAUW,OAAO;QAC5B;IACF;AACF"}